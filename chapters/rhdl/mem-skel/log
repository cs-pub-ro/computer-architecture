#![feature(prelude_import)]
#[prelude_import]
use std::prelude::rust_2024::*;
#[macro_use]
extern crate std;
use rhdl::prelude::*;
mod ram {
    use rhdl::prelude::*;
    use rhdl_fpga::core::dff::*;
    pub struct RamImput {
        pub oe: Bits<U1>,
        pub we: Bits<U1>,
        pub data_in: Bits<U16>,
        pub address: Bits<U10>,
    }
    impl core::marker::Copy for RamImput {}
    impl Clone for RamImput {
        #[inline]
        fn clone(&self) -> Self {
            Self {
                oe: self.oe.clone(),
                we: self.we.clone(),
                data_in: self.data_in.clone(),
                address: self.address.clone(),
            }
        }
    }
    impl rhdl::core::Digital for RamImput {
        const BITS: usize = <Bits<U1> as rhdl::core::Digital>::BITS
            + <Bits<U1> as rhdl::core::Digital>::BITS
            + <Bits<U16> as rhdl::core::Digital>::BITS
            + <Bits<U10> as rhdl::core::Digital>::BITS;
        const TRACE_BITS: usize = <Bits<U1> as rhdl::core::Digital>::TRACE_BITS
            + <Bits<U1> as rhdl::core::Digital>::TRACE_BITS
            + <Bits<U16> as rhdl::core::Digital>::TRACE_BITS
            + <Bits<U10> as rhdl::core::Digital>::TRACE_BITS;
        fn static_kind() -> rhdl::core::Kind {
            rhdl::core::Kind::make_struct(
                "mem_skel::ram::RamImput",
                <[_]>::into_vec(
                    ::alloc::boxed::box_new([
                        rhdl::core::Kind::make_field(
                            "oe",
                            <Bits<U1> as rhdl::core::Digital>::static_kind(),
                        ),
                        rhdl::core::Kind::make_field(
                            "we",
                            <Bits<U1> as rhdl::core::Digital>::static_kind(),
                        ),
                        rhdl::core::Kind::make_field(
                            "data_in",
                            <Bits<U16> as rhdl::core::Digital>::static_kind(),
                        ),
                        rhdl::core::Kind::make_field(
                            "address",
                            <Bits<U10> as rhdl::core::Digital>::static_kind(),
                        ),
                    ]),
                ),
            )
        }
        fn static_trace_type() -> rhdl::core::TraceType {
            rhdl::rtt::make_struct(
                "mem_skel::ram::RamImput",
                <[_]>::into_vec(
                    ::alloc::boxed::box_new([
                        rhdl::rtt::make_field(
                            "oe",
                            <Bits<U1> as rhdl::core::Digital>::static_trace_type(),
                        ),
                        rhdl::rtt::make_field(
                            "we",
                            <Bits<U1> as rhdl::core::Digital>::static_trace_type(),
                        ),
                        rhdl::rtt::make_field(
                            "data_in",
                            <Bits<U16> as rhdl::core::Digital>::static_trace_type(),
                        ),
                        rhdl::rtt::make_field(
                            "address",
                            <Bits<U10> as rhdl::core::Digital>::static_trace_type(),
                        ),
                    ]),
                ),
            )
        }
        fn bin(self) -> Vec<rhdl::core::BitX> {
            [
                self.oe.bin().as_slice(),
                self.we.bin().as_slice(),
                self.data_in.bin().as_slice(),
                self.address.bin().as_slice(),
            ]
                .concat()
        }
        fn trace(self) -> Vec<rhdl::core::TraceBit> {
            [
                self.oe.trace().as_slice(),
                self.we.trace().as_slice(),
                self.data_in.trace().as_slice(),
                self.address.trace().as_slice(),
            ]
                .concat()
        }
        fn dont_care() -> Self {
            Self {
                oe: <Bits<U1> as rhdl::core::Digital>::dont_care(),
                we: <Bits<U1> as rhdl::core::Digital>::dont_care(),
                data_in: <Bits<U16> as rhdl::core::Digital>::dont_care(),
                address: <Bits<U10> as rhdl::core::Digital>::dont_care(),
            }
        }
    }
    #[automatically_derived]
    impl ::core::marker::StructuralPartialEq for RamImput {}
    #[automatically_derived]
    impl ::core::cmp::PartialEq for RamImput {
        #[inline]
        fn eq(&self, other: &RamImput) -> bool {
            self.oe == other.oe && self.we == other.we && self.data_in == other.data_in
                && self.address == other.address
        }
    }
    #[automatically_derived]
    impl ::core::cmp::Eq for RamImput {
        #[inline]
        #[doc(hidden)]
        #[coverage(off)]
        fn assert_receiver_is_total_eq(&self) -> () {
            let _: ::core::cmp::AssertParamIsEq<Bits<U1>>;
            let _: ::core::cmp::AssertParamIsEq<Bits<U1>>;
            let _: ::core::cmp::AssertParamIsEq<Bits<U16>>;
            let _: ::core::cmp::AssertParamIsEq<Bits<U10>>;
        }
    }
    pub struct Ram {
        pub memory: [DFF<Bits<U16>>; 1024],
    }
    impl rhdl::core::Synchronous for Ram {
        type S = (Self::Q, <[DFF<Bits<U16>>; 1024] as rhdl::core::Synchronous>::S);
        fn init(&self) -> Self::S {
            (
                <<Self as rhdl::core::SynchronousDQ>::Q as rhdl::core::Digital>::dont_care(),
                self.memory.init(),
            )
        }
        fn descriptor(
            &self,
            name: &str,
        ) -> Result<rhdl::core::CircuitDescriptor, rhdl::core::RHDLError> {
            use std::collections::BTreeMap;
            let mut children: BTreeMap<String, CircuitDescriptor> = BTreeMap::new();
            children
                .insert(
                    "memory".to_string(),
                    self
                        .memory
                        .descriptor(
                            &::alloc::__export::must_use({
                                ::alloc::fmt::format(
                                    format_args!("{1}_{0}", "memory", name),
                                )
                            }),
                        )?,
                );
            rhdl::core::build_synchronous_descriptor::<Self>(name, children)
        }
        fn hdl(
            &self,
            name: &str,
        ) -> Result<rhdl::core::HDLDescriptor, rhdl::core::RHDLError> {
            use std::collections::BTreeMap;
            let mut children: BTreeMap<String, HDLDescriptor> = BTreeMap::new();
            children
                .insert(
                    "memory".to_string(),
                    self
                        .memory
                        .hdl(
                            &::alloc::__export::must_use({
                                ::alloc::fmt::format(
                                    format_args!("{1}_{0}", "memory", name),
                                )
                            }),
                        )?,
                );
            rhdl::core::build_synchronous_hdl(self, name, children)
        }
        fn sim(
            &self,
            clock_reset: rhdl::core::ClockReset,
            input: <Self as SynchronousIO>::I,
            state: &mut Self::S,
        ) -> <Self as SynchronousIO>::O {
            let update_fn = <<Self as SynchronousIO>::Kernel as DigitalFn3>::func();
            rhdl::core::trace("input", &input);
            for _ in 0..rhdl::core::MAX_ITERS {
                let prev_state = state.clone();
                let (outputs, internal_inputs) = update_fn(clock_reset, input, state.0);
                rhdl::core::trace_push_path("memory");
                state.0.memory = self
                    .memory
                    .sim(clock_reset, internal_inputs.memory, &mut state.1);
                rhdl::core::trace_pop_path();
                if state == &prev_state {
                    rhdl::core::trace("outputs", &outputs);
                    return outputs;
                }
            }
            {
                ::core::panicking::panic_fmt(
                    format_args!("Simulation did not converge"),
                );
            };
        }
    }
    #[doc(hidden)]
    pub struct Q {
        memory: <[DFF<Bits<U16>>; 1024] as rhdl::core::SynchronousIO>::O,
    }
    impl core::marker::Copy for Q {}
    impl Clone for Q {
        #[inline]
        fn clone(&self) -> Self {
            Self {
                memory: self.memory.clone(),
            }
        }
    }
    impl rhdl::core::Digital for Q {
        const BITS: usize = <<[DFF<
            Bits<U16>,
        >; 1024] as rhdl::core::SynchronousIO>::O as rhdl::core::Digital>::BITS;
        const TRACE_BITS: usize = <<[DFF<
            Bits<U16>,
        >; 1024] as rhdl::core::SynchronousIO>::O as rhdl::core::Digital>::TRACE_BITS;
        fn static_kind() -> rhdl::core::Kind {
            rhdl::core::Kind::make_struct(
                "mem_skel::ram::Q",
                <[_]>::into_vec(
                    ::alloc::boxed::box_new([
                        rhdl::core::Kind::make_field(
                            "memory",
                            <<[DFF<
                                Bits<U16>,
                            >; 1024] as rhdl::core::SynchronousIO>::O as rhdl::core::Digital>::static_kind(),
                        ),
                    ]),
                ),
            )
        }
        fn static_trace_type() -> rhdl::core::TraceType {
            rhdl::rtt::make_struct(
                "mem_skel::ram::Q",
                <[_]>::into_vec(
                    ::alloc::boxed::box_new([
                        rhdl::rtt::make_field(
                            "memory",
                            <<[DFF<
                                Bits<U16>,
                            >; 1024] as rhdl::core::SynchronousIO>::O as rhdl::core::Digital>::static_trace_type(),
                        ),
                    ]),
                ),
            )
        }
        fn bin(self) -> Vec<rhdl::core::BitX> {
            [self.memory.bin().as_slice()].concat()
        }
        fn trace(self) -> Vec<rhdl::core::TraceBit> {
            [self.memory.trace().as_slice()].concat()
        }
        fn dont_care() -> Self {
            Self {
                memory: <<[DFF<
                    Bits<U16>,
                >; 1024] as rhdl::core::SynchronousIO>::O as rhdl::core::Digital>::dont_care(),
            }
        }
    }
    #[automatically_derived]
    impl ::core::marker::StructuralPartialEq for Q {}
    #[automatically_derived]
    impl ::core::cmp::PartialEq for Q {
        #[inline]
        fn eq(&self, other: &Q) -> bool {
            self.memory == other.memory
        }
    }
    #[doc(hidden)]
    pub struct D {
        memory: <[DFF<Bits<U16>>; 1024] as rhdl::core::SynchronousIO>::I,
    }
    impl core::marker::Copy for D {}
    impl Clone for D {
        #[inline]
        fn clone(&self) -> Self {
            Self {
                memory: self.memory.clone(),
            }
        }
    }
    impl rhdl::core::Digital for D {
        const BITS: usize = <<[DFF<
            Bits<U16>,
        >; 1024] as rhdl::core::SynchronousIO>::I as rhdl::core::Digital>::BITS;
        const TRACE_BITS: usize = <<[DFF<
            Bits<U16>,
        >; 1024] as rhdl::core::SynchronousIO>::I as rhdl::core::Digital>::TRACE_BITS;
        fn static_kind() -> rhdl::core::Kind {
            rhdl::core::Kind::make_struct(
                "mem_skel::ram::D",
                <[_]>::into_vec(
                    ::alloc::boxed::box_new([
                        rhdl::core::Kind::make_field(
                            "memory",
                            <<[DFF<
                                Bits<U16>,
                            >; 1024] as rhdl::core::SynchronousIO>::I as rhdl::core::Digital>::static_kind(),
                        ),
                    ]),
                ),
            )
        }
        fn static_trace_type() -> rhdl::core::TraceType {
            rhdl::rtt::make_struct(
                "mem_skel::ram::D",
                <[_]>::into_vec(
                    ::alloc::boxed::box_new([
                        rhdl::rtt::make_field(
                            "memory",
                            <<[DFF<
                                Bits<U16>,
                            >; 1024] as rhdl::core::SynchronousIO>::I as rhdl::core::Digital>::static_trace_type(),
                        ),
                    ]),
                ),
            )
        }
        fn bin(self) -> Vec<rhdl::core::BitX> {
            [self.memory.bin().as_slice()].concat()
        }
        fn trace(self) -> Vec<rhdl::core::TraceBit> {
            [self.memory.trace().as_slice()].concat()
        }
        fn dont_care() -> Self {
            Self {
                memory: <<[DFF<
                    Bits<U16>,
                >; 1024] as rhdl::core::SynchronousIO>::I as rhdl::core::Digital>::dont_care(),
            }
        }
    }
    #[automatically_derived]
    impl ::core::marker::StructuralPartialEq for D {}
    #[automatically_derived]
    impl ::core::cmp::PartialEq for D {
        #[inline]
        fn eq(&self, other: &D) -> bool {
            self.memory == other.memory
        }
    }
    impl rhdl::core::SynchronousDQ for Ram {
        type Q = Q;
        type D = D;
    }
    #[automatically_derived]
    impl ::core::clone::Clone for Ram {
        #[inline]
        fn clone(&self) -> Ram {
            Ram {
                memory: ::core::clone::Clone::clone(&self.memory),
            }
        }
    }
    #[automatically_derived]
    impl ::core::fmt::Debug for Ram {
        #[inline]
        fn fmt(&self, f: &mut ::core::fmt::Formatter) -> ::core::fmt::Result {
            ::core::fmt::Formatter::debug_struct_field1_finish(
                f,
                "Ram",
                "memory",
                &&self.memory,
            )
        }
    }
    impl Default for Ram {
        fn default() -> Self {
            Self {
                memory: core::array::from_fn(|_| DFF::new(Bits::<U16>::default())),
            }
        }
    }
    impl SynchronousIO for Ram {
        type I = RamImput;
        type O = Bits<U16>;
        type Kernel = ram_kernel;
    }
    pub fn ram_kernel(_cr: ClockReset, i: RamImput, q: Q) -> (Bits<U16>, D) {
        #[forbid(non_snake_case)]
        #[forbid(non_upper_case_globals)]
        #[forbid(unreachable_patterns)]
        #[allow(clippy::manual_map)]
        #[allow(clippy::redundant_pattern_matching)]
        #[allow(clippy::manual_memcpy)]
        #[forbid(path_statements)]
        #[forbid(unused_variables)]
        #[allow(unused_doc_comments)]
        fn inner(_cr: ClockReset, i: RamImput, mut q: Q) -> (Bits<U16>, D) {
            {
                q.memory[i.address.raw() as usize] = i.data_in;
                (q.memory[0], D { memory: q.memory })
            }
        }
        rhdl::core::trace_push_path("ram_kernel");
        let ret = inner(_cr, i, q);
        rhdl::core::trace_pop_path();
        ret
    }
    #[allow(non_camel_case_types)]
    #[doc(hidden)]
    pub struct ram_kernel {}
    impl rhdl::core::digital_fn::DigitalFn3 for ram_kernel {
        type A0 = ClockReset;
        type A1 = RamImput;
        type A2 = Q;
        type O = (Bits<U16>, D);
        fn func() -> fn(ClockReset, RamImput, Q) -> (Bits<U16>, D) {
            ram_kernel
        }
    }
    impl rhdl::core::digital_fn::DigitalFn for ram_kernel {
        fn kernel_fn() -> Option<rhdl::core::digital_fn::KernelFnKind> {
            const META_DATA: &'static str = "{\"0\":{\"span\":{\"start_line\":33,\"start_col\":0,\"end_line\":38,\"end_col\":1},\"attributes\":[]},\"1\":{\"span\":{\"start_line\":33,\"start_col\":77,\"end_line\":38,\"end_col\":1},\"attributes\":[]},\"2\":{\"span\":{\"start_line\":35,\"start_col\":4,\"end_line\":35,\"end_col\":50},\"attributes\":[]},\"3\":{\"span\":{\"start_line\":35,\"start_col\":4,\"end_line\":35,\"end_col\":50},\"attributes\":[]},\"4\":{\"span\":{\"start_line\":35,\"start_col\":4,\"end_line\":35,\"end_col\":38},\"attributes\":[]},\"5\":{\"span\":{\"start_line\":35,\"start_col\":13,\"end_line\":35,\"end_col\":37},\"attributes\":[]},\"6\":{\"span\":{\"start_line\":35,\"start_col\":13,\"end_line\":35,\"end_col\":28},\"attributes\":[]},\"7\":{\"span\":{\"start_line\":35,\"start_col\":13,\"end_line\":35,\"end_col\":22},\"attributes\":[]},\"8\":{\"span\":{\"start_line\":35,\"start_col\":13,\"end_line\":35,\"end_col\":14},\"attributes\":[]},\"9\":{\"span\":{\"start_line\":35,\"start_col\":4,\"end_line\":35,\"end_col\":12},\"attributes\":[]},\"10\":{\"span\":{\"start_line\":35,\"start_col\":4,\"end_line\":35,\"end_col\":5},\"attributes\":[]},\"11\":{\"span\":{\"start_line\":35,\"start_col\":41,\"end_line\":35,\"end_col\":50},\"attributes\":[]},\"12\":{\"span\":{\"start_line\":35,\"start_col\":41,\"end_line\":35,\"end_col\":42},\"attributes\":[]},\"13\":{\"span\":{\"start_line\":37,\"start_col\":4,\"end_line\":37,\"end_col\":39},\"attributes\":[]},\"14\":{\"span\":{\"start_line\":37,\"start_col\":4,\"end_line\":37,\"end_col\":39},\"attributes\":[]},\"15\":{\"span\":{\"start_line\":37,\"start_col\":5,\"end_line\":37,\"end_col\":16},\"attributes\":[]},\"16\":{\"span\":{\"start_line\":37,\"start_col\":14,\"end_line\":37,\"end_col\":15},\"attributes\":[]},\"17\":{\"span\":{\"start_line\":37,\"start_col\":5,\"end_line\":37,\"end_col\":13},\"attributes\":[]},\"18\":{\"span\":{\"start_line\":37,\"start_col\":5,\"end_line\":37,\"end_col\":6},\"attributes\":[]},\"19\":{\"span\":{\"start_line\":37,\"start_col\":18,\"end_line\":37,\"end_col\":38},\"attributes\":[]},\"20\":{\"span\":{\"start_line\":37,\"start_col\":29,\"end_line\":37,\"end_col\":37},\"attributes\":[]},\"21\":{\"span\":{\"start_line\":37,\"start_col\":29,\"end_line\":37,\"end_col\":30},\"attributes\":[]},\"22\":{\"span\":{\"start_line\":33,\"start_col\":19,\"end_line\":33,\"end_col\":22},\"attributes\":[]},\"23\":{\"span\":{\"start_line\":33,\"start_col\":19,\"end_line\":33,\"end_col\":34},\"attributes\":[]},\"24\":{\"span\":{\"start_line\":33,\"start_col\":36,\"end_line\":33,\"end_col\":37},\"attributes\":[]},\"25\":{\"span\":{\"start_line\":33,\"start_col\":36,\"end_line\":33,\"end_col\":47},\"attributes\":[]},\"26\":{\"span\":{\"start_line\":33,\"start_col\":49,\"end_line\":33,\"end_col\":54},\"attributes\":[]},\"27\":{\"span\":{\"start_line\":33,\"start_col\":49,\"end_line\":33,\"end_col\":57},\"attributes\":[]}}";
            let bob = rhdl::core::ast::builder::ASTBuilder::default();
            Some(
                bob
                    .kernel_fn(
                        0u32.into(),
                        "ram_kernel",
                        <[_]>::into_vec(
                            ::alloc::boxed::box_new([
                                bob
                                    .type_pat(
                                        23u32.into(),
                                        bob.ident_pat(22u32.into(), "_cr", false),
                                        <ClockReset as rhdl::core::Digital>::static_kind(),
                                    ),
                                bob
                                    .type_pat(
                                        25u32.into(),
                                        bob.ident_pat(24u32.into(), "i", false),
                                        <RamImput as rhdl::core::Digital>::static_kind(),
                                    ),
                                bob
                                    .type_pat(
                                        27u32.into(),
                                        bob.ident_pat(26u32.into(), "q", true),
                                        <Q as rhdl::core::Digital>::static_kind(),
                                    ),
                            ]),
                        ),
                        <(Bits<U16>, D) as rhdl::core::Digital>::static_kind(),
                        bob
                            .block(
                                1u32.into(),
                                <[_]>::into_vec(
                                    ::alloc::boxed::box_new([
                                        bob
                                            .semi_stmt(
                                                2u32.into(),
                                                bob
                                                    .assign_expr(
                                                        3u32.into(),
                                                        bob
                                                            .index_expr(
                                                                4u32.into(),
                                                                bob
                                                                    .field_expr(
                                                                        9u32.into(),
                                                                        bob
                                                                            .path_expr(
                                                                                10u32.into(),
                                                                                bob
                                                                                    .path(
                                                                                        <[_]>::into_vec(
                                                                                            ::alloc::boxed::box_new([
                                                                                                bob.path_segment("q", bob.path_arguments_none()),
                                                                                            ]),
                                                                                        ),
                                                                                    ),
                                                                            ),
                                                                        bob.member_named("memory"),
                                                                    ),
                                                                bob
                                                                    .expr_cast(
                                                                        5u32.into(),
                                                                        bob
                                                                            .method_expr(
                                                                                6u32.into(),
                                                                                bob
                                                                                    .field_expr(
                                                                                        7u32.into(),
                                                                                        bob
                                                                                            .path_expr(
                                                                                                8u32.into(),
                                                                                                bob
                                                                                                    .path(
                                                                                                        <[_]>::into_vec(
                                                                                                            ::alloc::boxed::box_new([
                                                                                                                bob.path_segment("i", bob.path_arguments_none()),
                                                                                                            ]),
                                                                                                        ),
                                                                                                    ),
                                                                                            ),
                                                                                        bob.member_named("address"),
                                                                                    ),
                                                                                ::alloc::vec::Vec::new(),
                                                                                "raw",
                                                                                None,
                                                                            ),
                                                                        <usize as rhdl::core::Digital>::BITS,
                                                                    ),
                                                            ),
                                                        bob
                                                            .field_expr(
                                                                11u32.into(),
                                                                bob
                                                                    .path_expr(
                                                                        12u32.into(),
                                                                        bob
                                                                            .path(
                                                                                <[_]>::into_vec(
                                                                                    ::alloc::boxed::box_new([
                                                                                        bob.path_segment("i", bob.path_arguments_none()),
                                                                                    ]),
                                                                                ),
                                                                            ),
                                                                    ),
                                                                bob.member_named("data_in"),
                                                            ),
                                                    ),
                                            ),
                                        bob
                                            .expr_stmt(
                                                13u32.into(),
                                                bob
                                                    .tuple_expr(
                                                        14u32.into(),
                                                        <[_]>::into_vec(
                                                            ::alloc::boxed::box_new([
                                                                bob
                                                                    .index_expr(
                                                                        15u32.into(),
                                                                        bob
                                                                            .field_expr(
                                                                                17u32.into(),
                                                                                bob
                                                                                    .path_expr(
                                                                                        18u32.into(),
                                                                                        bob
                                                                                            .path(
                                                                                                <[_]>::into_vec(
                                                                                                    ::alloc::boxed::box_new([
                                                                                                        bob.path_segment("q", bob.path_arguments_none()),
                                                                                                    ]),
                                                                                                ),
                                                                                            ),
                                                                                    ),
                                                                                bob.member_named("memory"),
                                                                            ),
                                                                        bob.lit_expr(16u32.into(), bob.expr_lit_int("0")),
                                                                    ),
                                                                bob
                                                                    .struct_expr(
                                                                        19u32.into(),
                                                                        bob
                                                                            .path(
                                                                                <[_]>::into_vec(
                                                                                    ::alloc::boxed::box_new([
                                                                                        bob.path_segment("D", bob.path_arguments_none()),
                                                                                    ]),
                                                                                ),
                                                                            ),
                                                                        <[_]>::into_vec(
                                                                            ::alloc::boxed::box_new([
                                                                                bob
                                                                                    .field_value(
                                                                                        bob.member_named("memory"),
                                                                                        bob
                                                                                            .field_expr(
                                                                                                20u32.into(),
                                                                                                bob
                                                                                                    .path_expr(
                                                                                                        21u32.into(),
                                                                                                        bob
                                                                                                            .path(
                                                                                                                <[_]>::into_vec(
                                                                                                                    ::alloc::boxed::box_new([
                                                                                                                        bob.path_segment("q", bob.path_arguments_none()),
                                                                                                                    ]),
                                                                                                                ),
                                                                                                            ),
                                                                                                    ),
                                                                                                bob.member_named("memory"),
                                                                                            ),
                                                                                    ),
                                                                            ]),
                                                                        ),
                                                                        None,
                                                                        <D as rhdl::core::Digital>::static_kind().place_holder(),
                                                                    ),
                                                            ]),
                                                        ),
                                                    ),
                                            ),
                                    ]),
                                ),
                            ),
                        std::any::TypeId::of::<ram_kernel>(),
                        Some(
                            "/home/mihai/computer-architecture/chapters/rhdl/mem-skel/src/ram.rs",
                        ),
                        rhdl::serde_json::from_str(META_DATA).unwrap(),
                        ::alloc::vec::Vec::new(),
                    ),
            )
        }
    }
}
use crate::ram::*;
fn main() -> Result<(), RHDLError> {
    let ram = Ram::default();
    let input = <[_]>::into_vec(
        ::alloc::boxed::box_new([
            RamImput {
                oe: bits(0),
                we: bits(0),
                data_in: bits(5),
                address: bits(0),
            },
            RamImput {
                oe: bits(0),
                we: bits(0),
                data_in: bits(7),
                address: bits(0),
            },
        ]),
    );
    let input_data = input.into_iter().with_reset(1).clock_pos_edge(100);
    let vcd = ram.run(input_data)?.collect::<Vcd>();
    vcd.dump_to_file("ram.vcd")?;
    Ok(())
}
