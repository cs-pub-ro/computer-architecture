
\begin{frame}
    \frametitle{Pooling Problems}
    \begin{itemize}
        \item It consumes a lot of CPU time
        \item It is not efficient, because it depends on the pooling time
        \begin{itemize}
            \item If the pooling time is too short, the CPU will consume a lot of time
            \item If the pooling time is too long, it delays the response time to the I/O devices
        \end{itemize}
        \item It is synchronous and it is not a good solution for real-time systems (It is a need for an asynchronous solution)
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Interrupts Systems}
    \begin{itemize}
        \item Asyncrhonous system
        \item Control and syncronize the asynchronous events in the system
        \item \textbf{Definition:} An interrupt is a signal to the processor emitted by hardware or software indicating an event that needs immediate attention
        \item \textbf{How it Works:} When a device needs service, it sends an interrupt signal. The CPU suspends its current task, processes the interrupt via an Interrupt Service Routine (ISR), and then resumes its previous work.
        \item \textbf{Advantages:}
        \begin{itemize}
            \item \textbf{Efficiency:} The CPU only handles the device when it is needed, freeing it up for other tasks.
            \item \textbf{Responsive System:} The system can quickly respond to time-sensitive events.
            \item \textbf{Better Multitasking:} Interrupts enable systems to handle \\ multiple tasks effectively without wasting CPU cycles.
        \end{itemize}
    \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Types of Interrupts}
        \begin{itemize}
            \item \textbf{Hardware Interrupts:} Generated by hardware devices or CPU.
            \item \textbf{Software Interrupts:} Generated by a program.
            \item \textbf{Maskable Interrupts:} Can be disabled or enabled.
            \item \textbf{Non-Maskable Interrupts:} Cannot be disabled.
            \item \textbf{Internal Interrupts:} Generated by the CPU itself.
            \item \textbf{External Interrupts:} Generated by external devices.
        \end{itemize}
\end{frame}

\begin{frame}
    \frametitle{Interrupts Systems Concepts}
    \begin{itemize}
        \item Classes of Interrupts, depending on source of the interupt we have different levels of interrupts
        \item Order of Priority, the CPU must know which interrupt to handle first
        \item Identification of the Interrupt, the CPU must known the level of the interrupt and if present order of priority in that level.
        \item Critical section of code where interupts are disabled. The interupts can be globally or specifically disabled.
        \item A save and restore context of the CPU, the CPU must save the context of the current task and restore it after the interrupt is handled.
        \item Comunication between the CPU and the I/O devices.
        \item Time of the interrupt. It must be as short as possible.
    \end{itemize}
\end{frame}

% Slide 1: Overview of Interrupt Handling Mechanism
\begin{frame}
    \frametitle{Interrupt Handling Mechanism: Overview}
    \begin{itemize}
        \item Interrupt Request (IRQ) Lines
        \item Interrupt Vector Table (IVT)
        \item Interrupt Service Routines (ISRs)
        \item Prioritization and Nesting
        \item Context Switching
    \end{itemize}
\end{frame}

% Slide 2: Interrupt Request (IRQ) Lines
\begin{frame}
    \frametitle{Interrupt Request (IRQ) Lines}

    \begin{itemize}
        \item \textbf{Definition}: IRQ lines are dedicated hardware lines used by I/O devices to signal the CPU.
        \item \textbf{Functionality}: When a device needs attention, it sends an IRQ signal, alerting the CPU.
        \item \textbf{CPU Response}: The CPU identifies the source of the interrupt and initiates the appropriate Interrupt Service Routine (ISR).
    \end{itemize}
\end{frame}

% Slide 3: Interrupt Vector Table (IVT)
\begin{frame}
    \frametitle{Interrupt Vector Table (IVT)}

    \begin{itemize}
        \item \textbf{Definition}: The IVT is a table in memory that holds jumps instruction to addresses of Interrupt Service Routines (ISRs).
        \item \textbf{Purpose}: Provides a quick way to look up and execute the correct ISR based on the interrupt.
        \item \textbf{Mechanism}: When an interrupt occurs, the CPU retrieves the ISR address from the IVT and jumps to that address to execute the instruction which starts the ISR.
    \end{itemize}
\end{frame}

% Slide 4: Interrupt Service Routine (ISR)
\begin{frame}
    \frametitle{Interrupt Service Routine (ISR)}

    \begin{itemize}
        \item \textbf{Definition}: An ISR is a special function that executes in response to an interrupt.
        \item \textbf{Purpose}: Handles the specific task associated with the interrupt (e.g., data transfer, status update).
        \item \textbf{Execution Flow}:
            \begin{itemize}
                \item usually disable interrupts at the beginning of the ISR. (cli)
                \item Execute the ISR code.
                \item last instruction of the ISR is a return from interrupt instruction. (reti) (enable interrupts)
            \end{itemize}
    \end{itemize}
\end{frame}

% Slide 5: Prioritization and Nesting
\begin{frame}
    \frametitle{Prioritization and Nesting}

    \begin{itemize}
        \item \textbf{Prioritization}: High-priority interrupts can preempt lower-priority ones, allowing critical events to be addressed immediately.
        \item \textbf{Nesting}: Allows multiple interrupts to be handled simultaneously, where an interrupt may trigger another.
        \item \textbf{Benefits}: Enhances system responsiveness and ensures critical events are handled first.
    \end{itemize}
\end{frame}

% Slide 6: Context Switching
\begin{frame}
    \frametitle{Context Switching in Interrupt Handling}

    \begin{itemize}
        \item \textbf{Definition}: Saving the CPU's current state (registers, program counter) before handling an interrupt.
        \item \textbf{Process}:
            \begin{enumerate}
                \item Save the context of the interrupted task.
                \item Execute the ISR.
                \item Restore the context after ISR completion.
            \end{enumerate}
        \item \textbf{Importance}: Ensures that the CPU resumes its previous task exactly where it left off.
    \end{itemize}
\end{frame}