<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Laboratoare/8 Calculator Didactic/Unitate de comanda/Teorie/README">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Unitatea de comandă | Computer Architecture</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="http://localhost//computer-architecture/Laboratoare/8 Calculator Didactic/Unitate de comanda/Teorie/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Unitatea de comandă | Computer Architecture"><meta data-rh="true" name="description" content="Ne vom familiariza cu formatul instrucțiunilor calculatorului didactic și cu modul de funcționare al unității de comandă. În acest scop se vor implementa în Verilog interpretarea și comandarea execuției pentru instrucțiunile specificate în arhitectura calculatorului didactic studiat la curs."><meta data-rh="true" property="og:description" content="Ne vom familiariza cu formatul instrucțiunilor calculatorului didactic și cu modul de funcționare al unității de comandă. În acest scop se vor implementa în Verilog interpretarea și comandarea execuției pentru instrucțiunile specificate în arhitectura calculatorului didactic studiat la curs."><link data-rh="true" rel="canonical" href="http://localhost//computer-architecture/Laboratoare/8 Calculator Didactic/Unitate de comanda/Teorie/"><link data-rh="true" rel="alternate" href="http://localhost//computer-architecture/Laboratoare/8 Calculator Didactic/Unitate de comanda/Teorie/" hreflang="en"><link data-rh="true" rel="alternate" href="http://localhost//computer-architecture/Laboratoare/8 Calculator Didactic/Unitate de comanda/Teorie/" hreflang="x-default"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/computer-architecture/assets/css/styles.a69a9d41.css">
<link rel="preload" href="/computer-architecture/assets/js/runtime~main.5ac63c4e.js" as="script">
<link rel="preload" href="/computer-architecture/assets/js/main.53792c0c.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/computer-architecture/"><div class="navbar__logo"><img src="/computer-architecture/img/logo.svg" alt="Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/computer-architecture/img/logo.svg" alt="Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Computer Architecture</b></a><a class="navbar__item navbar__link" href="/computer-architecture/Tutoriale">Tutoriale</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/computer-architecture/Laboratoare">Laboratoare</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/computer-architecture/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/computer-architecture/rules">Regulament</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/computer-architecture/grading">Notare</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/computer-architecture/team">Echipa</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/computer-architecture/Tutoriale/">Tutoriale</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutoriale&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/computer-architecture/Laboratoare/">Laboratoare</a><button aria-label="Toggle the collapsible sidebar category &#x27;Laboratoare&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/computer-architecture/Laboratoare/0 Recapitulare/">0 Recapitulare</a><button aria-label="Toggle the collapsible sidebar category &#x27;0 Recapitulare&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/computer-architecture/Laboratoare/1 Verilog Combinațional/">1 Verilog Combinațional</a><button aria-label="Toggle the collapsible sidebar category &#x27;1 Verilog Combinațional&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/computer-architecture/Laboratoare/2 Verilog Combinațional/">2 Verilog Combinațional</a><button aria-label="Toggle the collapsible sidebar category &#x27;2 Verilog Combinațional&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/computer-architecture/Laboratoare/3 Verilog Combinațional/">3 Verilog Combinațional</a><button aria-label="Toggle the collapsible sidebar category &#x27;3 Verilog Combinațional&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/computer-architecture/Laboratoare/4 Verilog Secvențial/">4 Verilog Secvențial</a><button aria-label="Toggle the collapsible sidebar category &#x27;4 Verilog Secvențial&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/computer-architecture/Laboratoare/5 Verilog Secvențial/">5 Verilog Secvențial</a><button aria-label="Toggle the collapsible sidebar category &#x27;5 Verilog Secvențial&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/computer-architecture/Laboratoare/6 Verilog Secvențial/">6 Verilog Secvențial</a><button aria-label="Toggle the collapsible sidebar category &#x27;6 Verilog Secvențial&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/computer-architecture/Laboratoare/7 Calculator Didactic/">7 Calculator Didactic</a><button aria-label="Toggle the collapsible sidebar category &#x27;7 Calculator Didactic&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/computer-architecture/Laboratoare/8 Calculator Didactic/">8 Calculator Didactic</a><button aria-label="Toggle the collapsible sidebar category &#x27;8 Calculator Didactic&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/computer-architecture/Laboratoare/8 Calculator Didactic/Unitate de comanda/">Unitate de comanda</a><button aria-label="Toggle the collapsible sidebar category &#x27;Unitate de comanda&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/computer-architecture/Laboratoare/8 Calculator Didactic/Unitate de comanda/Teorie/">Teorie</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/computer-architecture/Laboratoare/9 Calculator Didactic/">9 Calculator Didactic</a><button aria-label="Toggle the collapsible sidebar category &#x27;9 Calculator Didactic&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/computer-architecture/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/computer-architecture/Laboratoare/"><span itemprop="name">Laboratoare</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/computer-architecture/Laboratoare/8 Calculator Didactic/"><span itemprop="name">8 Calculator Didactic</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/computer-architecture/Laboratoare/8 Calculator Didactic/Unitate de comanda/"><span itemprop="name">Unitate de comanda</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Teorie</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Unitatea de comandă</h1><p>Ne vom familiariza cu <strong>formatul instrucțiunilor</strong> calculatorului didactic și cu <strong>modul de funcționare al unității de comandă</strong>. În acest scop se vor implementa în Verilog <strong>interpretarea</strong> și <strong>comandarea execuției</strong> pentru instrucțiunile specificate în arhitectura calculatorului didactic studiat la curs.</p><p>Componentele calculatorului didactic implementate anterrio registre, UAL formează unitatea de execuție a procesorului. Pentru ca acestea să rețină date și să execute instrucțiunile procesorului, avem nevoie de o logică hardware de comandă a acestora, logică implementată în unitatea de comandă.</p><p>În interiorul unui procesor, instrucțiunile trec prin mai multe etape. Pentru calculatorul didactic avem următoarele etape:</p><ul><li><strong>Fetch</strong> - aducerea instrucțiunii din memorie în registrul instrucțiune (RI)</li><li><strong>Decode</strong> - decodificarea instrucțiunii</li><li><strong>Load</strong> - încărcarea operanzilor</li><li><strong>Execute</strong> - executarea instrucțiunii</li><li><strong>Store</strong> - scrierea rezultatului (dacă este cazul)</li></ul><p>Unitatea de comandă este implicată în toate etapele de mai sus: comandă prin semnalare aducerea codurilor instrucțiunilor din memorie, le decodifică și transmite semnale către unitățile (registre, UAL, memorie) implicate în execuția acelor instrucțiuni. La terminarea execuției fiecărei instrucțiuni se comandă scrierea rezultatului (dacă este cazul) și se actualizează registrul <strong>CP</strong> (Contor Program) cu adresa instrucțiunii următoare.</p><p><strong>Ce trebuie să facă unitatea de comandă atunci când trebuie executată o instrucțiune aritmetică logică cu un operand? De exemplu <code>INC RA</code>.</strong></p><ul><li>Semnale către <strong>CP</strong> și <strong>AM</strong>: valoarea din <strong>CP</strong> e pusă pe magistrală și scrisă în <strong>AM</strong>;</li><li>Semnale către <strong>AM</strong> și memorie pentru a lua valoarea (codul instrucțiunii) de la adresa specificată de <strong>AM</strong>;</li><li>Semnal către <strong>RAM</strong> pentru a pune valoarea pe magistrală și către <strong>RI</strong> pentru a pune codul instrucțiunii în el;</li><li>Decodificare instrucțiune;</li><li>Semnal către blocul de registre generale pentru a determina activarea conținutului lui RA pe magistrală și semnal către <strong>T1</strong> pentru a încărca valoarea aflată în acest moment pe magistrală;</li><li>Semnal către <strong>UAL</strong> ce indică operația <strong>INC</strong>;</li><li>Semnal către <strong>IND</strong> pentru ca UAL-ul să poată scrie flagurile;</li><li>Semnal către blocul de registre generale pentru a încărca în <strong>RA</strong> valoarea de pe magistrală;</li><li>Incrementarea <strong>CP</strong> pentru adresa instrucțiunii următoare - semnal către <strong>CP</strong> pentru a scrie în el.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="implementare">Implementare<a class="hash-link" href="#implementare" title="Direct link to heading">​</a></h2><p>Unitatea de comandă este implementată ca un <strong>automat de stări</strong>. Modulul acesteia are următoarele semnale:</p><ul><li>intrări: <strong>clk</strong>, <strong>rst</strong>, <strong>ri</strong> (codul instrucțiunii), <strong>ind</strong> (indicatorii de condiție)</li><li>ieșiri:<ul><li>semnale <strong>oe</strong> (output-enable) și <strong>we</strong> (write-enable) pentru registre, bancul de registre, memorie și unitatea aritmetică logică (doar <strong>oe</strong>)</li><li><strong>alu_opcode</strong> - codul operației ce trebuie efectuată de unitatea aritmetică logică</li><li><strong>alu_carry</strong> - carry-ul folosit de UAL în cadrul operației ce trebuie să o execute</li><li><strong>regs_addr</strong> - indexul unui registru din bancul de registre</li><li><strong>ind_sel</strong> - controlează sursa de scriere în registrul IND (0 = bus, 1 = alu flags)</li></ul></li></ul><p>Automatul trebuie să ofere stări pentru:</p><ul><li>aducerea instrucțiunii din memorie în registrul <strong>RI</strong></li><li>decodificarea codului instrucțiunii pentru identificarea operației ce trebuie efectuate și a operanzilor acesteia (dacă este cazul)</li><li>interpretarea fiecărei instrucțiuni. Aceasta se traduce printr-o serie de stări care setează semnalele de output ale modulului pentru a comanda execuția instrucțiunii.</li><li>incrementarea registrului <strong>CP</strong></li></ul><p>În implementarea unității de comandă vom considera că <strong>UAL-ul va pune rezultatul în T1</strong>, și de acolo va fi transferat în registre sau în memorie. Această convenție face mai simple și mai clare stările care comandă execuția operațiilor aritmetice-logice.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="codificarea-instrucțiunilor">Codificarea instrucțiunilor<a class="hash-link" href="#codificarea-instrucțiunilor" title="Direct link to heading">​</a></h2><p><img loading="lazy" alt="Formatul instrucțiunilor calculatorului didactic" src="/computer-architecture/assets/images/format-instructiune-17eb23b9890b9281b68036a30eb25c65.png" width="1764" height="320" class="img_ev3q"></p><p><em>Figure: Formatul instrucțiunilor calculatorului didactic</em></p><ul><li><strong>COP</strong> - codul operației, 7 biți<ul><li>bitul <!-- -->[0]<!-- --> - separă instrucțiunile care folosesc o adresă efectivă de cele care nu folosesc:<ul><li>0 - instrucțiuni cu calcul de adresă efectivă</li><li>1 - instrucțiuni fără calcul de adresă efectivă (salturi condiționate, RET etc.)</li></ul></li><li>bitul <!-- -->[1]<!-- --> - separă instrucțiunile care au 1 operand de cele cu 2 operanzi:<ul><li>0 - un operand</li><li>1 - doi operanzi</li></ul></li><li>bitul <!-- -->[2]<!-- --> - separă instrucțiunile cu operand imediat de cele fără operand imediat:<ul><li>0 - fără operand imediat</li><li>1 - cu operand imediat</li></ul></li><li>bitul <!-- -->[3]<!-- --> - separă instrucțiunile de transfer de date/control de celelalte:<ul><li>0 - transfer de date/control (MOV, PUSH, CALL etc.) sau care nu salvează rezultatul (CMP, TEST)</li><li>1 - instrucțiuni aritmetico-logice cu salvarea rezultatului, salturi condiționate</li></ul></li><li>biții <!-- -->[4][5]<!-- -->[6]<!-- --> - cod operație</li></ul></li><li><strong>d</strong> - pentru instrucțiunile cu doi operanzi, folosit pentru a ști care e primul și care e al doilea dintre cele două câmpuri REG și RM din codul instrucțiunii:<ul><li>0 - RM = RM op REG</li><li>1 - REG = REG op RM</li></ul></li><li><strong>MOD</strong> - modul de calcul al adresei efective (4 moduri - 2 biți)</li><li><strong>REG</strong> - indexul registrului care conține unul dintre operanzi</li><li><strong>RM</strong> - indexul registrului care conține unul dintre operanzi</li></ul><table><thead><tr><th>Instrucțiune</th><th>Funcție</th><th>Cod RI<!-- -->[0:6]</th></tr></thead><tbody><tr><td>INC</td><td>op = op + 1</td><td>0001 000</td></tr><tr><td>DEC</td><td>op = op - 1</td><td>0001 001</td></tr><tr><td>NEG</td><td>op = -op</td><td>0001 010</td></tr><tr><td>NOT</td><td>op = ~op</td><td>0001 011</td></tr><tr><td>SHL/SAL</td><td>op = op &lt;&lt; 1</td><td>0001 100</td></tr><tr><td>SHR</td><td>op = op &gt;&gt; 1</td><td>0001 101</td></tr><tr><td>SAR</td><td>op = op &gt;&gt;&gt; 1</td><td>0001 110</td></tr></tbody></table><p><em>Table: _Instrucțiuni aritmetice-logice cu un operand</em></p><p>De exemplu, pentru instrucțiunea <code>INC RA</code> grupul este cel al operațiilor cu calcul de adresă efectivă (RI<!-- -->[0]<!-- --> = 0), cu un singur operand (RI<!-- -->[1]<!-- --> = 0), fără operand imediat (RI<!-- -->[2]<!-- --> = 0) și cu salvarea rezultatului (RI<!-- -->[3]<!-- --> = 1).</p><p>Pentru orice procesor, fiecare instrucțiune definită în arhitectura setului său de instrucțiuni, are un anumit <strong>cod unic după care este identificată</strong>. Atunci când se stochează o instrucțiune care lucrează cu cel puțin un operand, nu este suficient să avem doar codul său (care indică ce acțiune trebuie efectuată), ci trebuie să avem și niște biți care să ne indice de unde luăm operanzii, așa cum este ilustrat și în imaginea de mai jos.</p><p>Dacă MOD = 3 (adresare directă la registru) și instrucțiunea are un singur operand, acesta este pus în RM.</p><p>Se poate observa că în cadrul unora din grupurile de operații au rămas codificări nefolosite pe biții 4:6. Dacă se extinde setul de instrucțiuni cu noi operații (vedeți în curs :!:), atunci codul acestora poate fi unul din cele nefolosite (atâta timp cât se încadrează în acel grup).</p><p>Exemplu de calcul cod operație pentru instrucțiune <code>DEC RB</code>:</p><ul><li>[0]<!-- --> = 0 - cu calcul de adresă efectivă</li><li>[1]<!-- --> = 0 - un operand</li><li>[2]<!-- --> = 0 - fără operand imediat</li><li>[3]<!-- --> = 1 - operație aritmetică cu salvarea rezultatului</li><li>[4,5,6]<!-- --> = <!-- -->[0,0,1]<!-- --> - codul dat operației (stabilit de arhitectură)</li><li>[7]<!-- --> = 0/1 - nu contează, îl putem pune 0 sau 1</li><li>[8,9]<!-- --> = <!-- -->[1,1]<!-- --> - modul de adresare (directă la registru)</li><li>[10,11,12]<!-- --> = <!-- -->[0,0,0]<!-- --> - nu folosim REG, deci nu contează ce punem</li><li>[13,14,15]<!-- --> = <!-- -->[0,0,1]<!-- --> - indexul registrului RB în bancul de registre</li></ul><table><thead><tr><th>15</th><th>14</th><th>13</th><th>12</th><th>11</th><th>10</th><th>9</th><th>8</th><th>7</th><th>6</th><th>5</th><th>4</th><th>3</th><th>2</th><th>1</th><th>0</th></tr></thead><tbody><tr><td>1</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>1</td><td>1</td><td>0</td><td>1</td><td>0</td><td>0</td><td>1</td><td>0</td><td>0</td><td>0</td></tr></tbody></table><p>Instrucțiunile care vor fi implementate în acest laborator se regăsesc în tabelul de mai jos. Acestea sunt instrucțiuni aritmetice și logice cu doi operanzi ale căror valori sunt în registrele generale și fie pun un rezultat înapoi în registrul destinație, fie nu stochează rezultatul ci doar setează indicatorii de condiție (CMP și TEST).</p><table><thead><tr><th>Instrucțiune</th><th>Funcție</th><th>Cod RI<!-- -->[0:6]</th></tr></thead><tbody><tr><td>ADD</td><td>op<sub>dst</sub> = op<sub>dst</sub> + op<sub>src</sub></td><td>0101000</td></tr><tr><td>ADC</td><td>op<sub>dst</sub> = op<sub>dst</sub> + op<sub>src</sub> + carry</td><td>0101001</td></tr><tr><td>SUB</td><td>op<sub>dst</sub> = op<sub>dst</sub> - op<sub>src</sub></td><td>0101010</td></tr><tr><td>SBB</td><td>op<sub>dst</sub> = op<sub>dst</sub> - op<sub>src</sub> - carry</td><td>0101011</td></tr><tr><td>AND</td><td>op<sub>dst</sub> = op<sub>dst</sub> &amp; op<sub>src</sub></td><td>0101100</td></tr><tr><td>OR</td><td>op<sub>dst</sub> = op<sub>dst</sub> <!-- -->|<!-- --> op<sub>src</sub></td><td>0101101</td></tr><tr><td>XOR</td><td>op<sub>dst</sub> = op<sub>dst</sub> ^ op<sub>src</sub></td><td>0101110</td></tr><tr><td>CMP</td><td>op<sub>dst</sub> - op<sub>src</sub>, fără stocare rezultat, doar setare indicatori</td><td>0100010</td></tr><tr><td>TEST</td><td>op<sub>dst</sub> &amp; op<sub>src</sub>, fără stocare rezultat, doar setare indicatori</td><td>0100100</td></tr></tbody></table><p><em>Table: _Instrucțiuni aritmetice-logice cu doi operanzi</em></p><p>Pentru <strong>decodificarea</strong> instrucțiunilor din acest laborator trebuie sa identificăm atât grupul instrucțiunilor aritmetice-logice cu doi operanzi, fără operand imediat și care stochează rezultatul (<strong>RI<sub>0..3</sub> = 0101</strong>) cât și cele care nu stochează rezultatul (<strong>RI<sub>0..3</sub> = 0100</strong>).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="adresarea-directă-la-registru">Adresarea directă la registru<a class="hash-link" href="#adresarea-directă-la-registru" title="Direct link to heading">​</a></h2><p>Operanzii se găsesc în registrele specificate de câmpurile REG și RM. Pentru a selecta ordinea operanzilor din aceste două câmpuri, trebuie să ținem cont de valoarea din bitul <strong>d</strong>. Vom folosi adresarea directă la registru (câmpul mod trebuie să conțină valoarea 2&#x27;b11), așa cum se observă în imaginea de mai jos.</p><p><img loading="lazy" alt="Adresarea directă la registru pentru instrucțiuni cu doi operanzi" src="/computer-architecture/assets/images/adresare-directa-registru-040a94415a88c61b94614ea19f796d7b.png" width="897" height="632" class="img_ev3q"></p><p><em>Figure: Adresarea directă la registru pentru instrucțiuni cu doi operanzi</em></p><p>Instrucțiunea <code>AND RA, RB</code> efectuează <code>ȘI</code> logic între cei doi operanzi și pune rezultatul în registrul destinație (<code>RA</code>). Un exemplu de calcul al codului operației se regăsește mai jos:</p><ul><li>[0]<!-- --> = 0 - cu calcul de adresă efectivă</li><li>[1]<!-- --> = 1 - doi operanzi</li><li>[2]<!-- --> = 0 - fără operand imediat</li><li>[3]<!-- --> = 1 - operație aritmetică cu salvarea rezultatului</li><li>[4,5,6]<!-- --> = <!-- -->[1,0,0]<!-- --> - codul dat operației (stabilit de arhitectură)</li><li>[7]<!-- --> - selectează operandul destinație. Pentru exemplul acesta vom considera că acest bit ia valoarea 1 (destinația va fi registrul <code>RA</code>):<ul><li>1: REG = REG <code>AND</code> RM</li></ul></li><li>[8,9]<!-- --> = <!-- -->[1,1]<!-- --> - modul de adresare (folosim adresarea directă la registru)</li><li>[10,11,12]<!-- --> = <!-- -->[0,0,0]<!-- --> - indexul registrului <code>RA</code> în bancul de registre</li><li>[13,14,15]<!-- --> = <!-- -->[0,0,1]<!-- --> - indexul registrului <code>RB</code> în bancul de registre</li></ul><table><thead><tr><th>15</th><th>14</th><th>13</th><th>12</th><th>11</th><th>10</th><th>9</th><th>8</th><th>7</th><th>6</th><th>5</th><th>4</th><th>3</th><th>2</th><th>1</th><th>0</th></tr></thead><tbody><tr><td>1</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>1</td><td>1</td><td>1</td><td>0</td><td>0</td><td>1</td><td>1</td><td>0</td><td>1</td><td>0</td></tr></tbody></table></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/computer-architecture/Laboratoare/8 Calculator Didactic/Unitate de comanda/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Unitate de comanda</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/computer-architecture/Laboratoare/9 Calculator Didactic/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">9 Calculator Didactic</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#implementare" class="table-of-contents__link toc-highlight">Implementare</a></li><li><a href="#codificarea-instrucțiunilor" class="table-of-contents__link toc-highlight">Codificarea instrucțiunilor</a></li><li><a href="#adresarea-directă-la-registru" class="table-of-contents__link toc-highlight">Adresarea directă la registru</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://curs.upb.ro" target="_blank" rel="noopener noreferrer" class="footer__link-item">Main site<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://ocw.cs.pub.ro/courses/ac-is" target="_blank" rel="noopener noreferrer" class="footer__link-item">OCW<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Comnputer Architecture Team</div></div></div></footer></div>
<script src="/computer-architecture/assets/js/runtime~main.5ac63c4e.js"></script>
<script src="/computer-architecture/assets/js/main.53792c0c.js"></script>
</body>
</html>