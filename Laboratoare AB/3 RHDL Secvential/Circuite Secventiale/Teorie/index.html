<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Laboratoare AB/3 RHDL Secvential/Circuite Secventiale/Teorie/README">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Circuite secventiale | Computer Architecture</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="http://localhost//computer-architecture/Laboratoare AB/3 RHDL Secvential/Circuite Secventiale/Teorie/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Circuite secventiale | Computer Architecture"><meta data-rh="true" name="description" content="Concept"><meta data-rh="true" property="og:description" content="Concept"><link data-rh="true" rel="canonical" href="http://localhost//computer-architecture/Laboratoare AB/3 RHDL Secvential/Circuite Secventiale/Teorie/"><link data-rh="true" rel="alternate" href="http://localhost//computer-architecture/Laboratoare AB/3 RHDL Secvential/Circuite Secventiale/Teorie/" hreflang="en"><link data-rh="true" rel="alternate" href="http://localhost//computer-architecture/Laboratoare AB/3 RHDL Secvential/Circuite Secventiale/Teorie/" hreflang="x-default"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/computer-architecture/assets/css/styles.48876178.css">
<link rel="preload" href="/computer-architecture/assets/js/runtime~main.604d4f2b.js" as="script">
<link rel="preload" href="/computer-architecture/assets/js/main.874f4657.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/computer-architecture/"><div class="navbar__logo"><img src="/computer-architecture/img/logo.svg" alt="Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/computer-architecture/img/logo.svg" alt="Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Computer Architecture</b></a><a class="navbar__item navbar__link" href="/computer-architecture/Tutoriale">Tutoriale</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/computer-architecture/Laboratoare AB">Laboratoare AB</a><a class="navbar__item navbar__link" href="/computer-architecture/Laboratoare">Laboratoare</a><a class="navbar__item navbar__link" href="/computer-architecture/Practică Verilog AA AC">Practică Verilog AA AC</a><a class="navbar__item navbar__link" href="/computer-architecture/Evaluare">Evaluare</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/computer-architecture/">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/computer-architecture/rules">Regulament</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/computer-architecture/grading">Notare</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/computer-architecture/team">Echipa</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/computer-architecture/Tutoriale/">Tutoriale</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutoriale&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/computer-architecture/Laboratoare AB/">Laboratoare AB</a><button aria-label="Toggle the collapsible sidebar category &#x27;Laboratoare AB&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/computer-architecture/Laboratoare AB/0 Recapitulare/">0 Recapitulare</a><button aria-label="Toggle the collapsible sidebar category &#x27;0 Recapitulare&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/computer-architecture/Laboratoare AB/1 Limbajul Rust/">1 Limbajul Rust</a><button aria-label="Toggle the collapsible sidebar category &#x27;1 Limbajul Rust&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/computer-architecture/Laboratoare AB/2 RHDL Combinational/">2 RHDL Combinational</a><button aria-label="Toggle the collapsible sidebar category &#x27;2 RHDL Combinational&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/computer-architecture/Laboratoare AB/3 RHDL Secvential/">3 RHDL Secvential</a><button aria-label="Toggle the collapsible sidebar category &#x27;3 RHDL Secvential&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/computer-architecture/Laboratoare AB/3 RHDL Secvential/Parametrizare/">Parametrizare</a><button aria-label="Toggle the collapsible sidebar category &#x27;Parametrizare&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/computer-architecture/Laboratoare AB/3 RHDL Secvential/Circuite Secventiale/">Circuite Secventiale</a><button aria-label="Toggle the collapsible sidebar category &#x27;Circuite Secventiale&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/computer-architecture/Laboratoare AB/3 RHDL Secvential/Circuite Secventiale/Teorie/">Teorie</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/computer-architecture/Laboratoare AB/3 RHDL Secvential/Exercitii/">Exercitii</a><button aria-label="Toggle the collapsible sidebar category &#x27;Exercitii&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/computer-architecture/Laboratoare/">Laboratoare</a><button aria-label="Toggle the collapsible sidebar category &#x27;Laboratoare&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/computer-architecture/Practică Verilog AA AC/">Practică Verilog AA AC</a><button aria-label="Toggle the collapsible sidebar category &#x27;Practică Verilog AA AC&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/computer-architecture/Evaluare/">Evaluare</a><button aria-label="Toggle the collapsible sidebar category &#x27;Evaluare&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/computer-architecture/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/computer-architecture/Laboratoare AB/"><span itemprop="name">Laboratoare AB</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/computer-architecture/Laboratoare AB/3 RHDL Secvential/"><span itemprop="name">3 RHDL Secvential</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/computer-architecture/Laboratoare AB/3 RHDL Secvential/Circuite Secventiale/"><span itemprop="name">Circuite Secventiale</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Teorie</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Circuite secventiale</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="concept">Concept<a class="hash-link" href="#concept" title="Direct link to heading">​</a></h2><p>Circuitele secventiale sunt circuite care nu neaparat mapeaza un set
de inputuri la un alt set de outputuri fix. Acest comportament
poate fi realizat numai cu un mecanism de memorie/stare interna, pe care noi ca
mediu exterior o putem afecta doar intr-un mod controlat de logica
interna a acelui circuit. in general nu putem nici sa setam
si nici sa vedem starea interna a unui circuit secvential, dar
putem sa controlam/estimam noi acea stare pe baza specificatiilor
de le avem a acelui circuit.</p><p>Exista mai multe tipuri de circuite secventiale:</p><ul><li>Latchuri, care poate sa lucreze in regim de modificare continua
a starii interne, sau un regim in care starea interna ramane nemodificata.
Acest regim este determinat pe baza a unuia sau a mai multor semnale de intrare</li><li>Circuite secventiale asincrone, a caror stare interioara se poate
modifica doar in cadrul unor evenimente instantanee ale unuia sau
a mai multor semnale. Aceste evenimente pot fi trecerea de la 0 la 1 (posedge) sau trecerea de la 1 la 0 (negedge)</li><li>Circuitele secventiale sincrone, care sunt un caz particular al
circuitelor asincrone, starea lor interna se poate modifica doar pe
baza unui semnal periodic stabil numit clock. In general aceste circuite au cel mai mare grad de stabilitate, si desi par limitate,
putem emula comportamentul celorlaltor 2 tipuri de circuite intr-un mod stabil atata timp cat e frecventa clockului suficient de mare</li></ul><p>De aceea in general se doreste, si chiar este si optimizat la nivel
de HDL, ca circuitele secventiale sa fie de tip sincron</p><p>Un alt aspect important al unui circuit secvential este ca nu putem
sa presupunem ca la start-up vom avea mereu aceeasi stare initiala,
de aceea s-a mai adaugat la majoritatea circuitelor un semnal
numit reset, al carui rol este pur si simplu sa puna circuitul in starea default cat timp e activ.
Acest semnal de reset desi are comportament asincron, nu ne deranjeaza caracteristicile circuitului deoarece este folosit foarte rar,
iar in cazurile in care chiar este activ circuitul nostru nu putem
sa zicem ca se afla in un regim util de functionare</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="implementare">Implementare<a class="hash-link" href="#implementare" title="Direct link to heading">​</a></h2><p>Noi ne vom atinge doar de circuite secventiale sincrone la laborator.
Pentru a putea implementa un astfel de circuit secvential, ne trebuie un struct care implementeaza traiturile <code>Synchronous</code>, <code>SynchronousIO</code> si <code>SynchronousDQ</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="synchronousdq">SynchronousDQ<a class="hash-link" href="#synchronousdq" title="Direct link to heading">​</a></h3><p>Reprezinta tipurile de date lui <code>D</code> si <code>Q</code>.
Pentru a intelege ce reprezinta denumirile, ne vom uita la un bistabil D:</p><div align="center"><p><img loading="lazy" alt="D-Flip-Flop" src="data:image/png;base64,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" width="245" height="205" class="img_ev3q"></p><p><em>Figure: D Flip Flop</em></p></div><p><code>Q</code> reprezinta iesirea bistabilului, iar <code>D</code> intrarea.
Dar de fapt <code>Q</code> este legat direct de continutul memoriei bistabilului, deci putem
sa il interpretam ca si starea curenta.
Iar <code>D</code> se leaga de intrarea in bistabil la care cand se va intampla urmatorul eveniment de update,
bistabilul va prelua ca starea valoarea respectiva. Deci putem sa interpretam pe <code>D</code> ca si starea urmatoare.</p><p>La fel cum putem reprezenta un circuit sincron prin tabelul de adevar cu I,Q/O,D functia noastra <code>kernel</code> va lua ca inputuri tipurile I si Q si ca outputuri (O,D)</p><p>Acest trait se poate implementa direct, si asta ar presupune ca
doar definesti tipurile <code>D</code> si <code>Q</code>, sau se poate deriva.</p><p>Derivarea traitului SynchronousDQ asupra unui struct va adauga la</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">struct CircSecvTop {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    circ1: CircSecv1,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    circ2: CircSecv2,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>aceste 2 tipuri D si Q</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">struct D {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    circ1: &lt;CircSecv1 as rhdl::core::SynchronousIO&gt;::I,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    circ2: &lt;CircSecv2 as rhdl::core::SynchronousIO&gt;::I,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">struct Q {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    circ1: &lt;CircSecv1 as rhdl::core::SynchronousIO&gt;::O,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    circ2: &lt;CircSecv2 as rhdl::core::SynchronousIO&gt;::O,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_S0QG"><p>Observam ca in felul acesta nu avem acces la starea interna a unui
circuit intern, iar starea noastra interna se bazeaza pe outputurile circuitelor secventiale interne</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="synchronousio">SynchronousIO<a class="hash-link" href="#synchronousio" title="Direct link to heading">​</a></h3><p>Reprezinta tipurile de date ale lui <code>I</code> si <code>O</code> cat si functia <code>kernel</code> asociata circuitului descris.</p><p>Functia <code>kernel</code> va avea urmatoarea semnatura:</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#[kernel]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fn my_circuit(cr: ClockReset, i: I, q: Q) -&gt; (O, D);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="synchronous">Synchronous<a class="hash-link" href="#synchronous" title="Direct link to heading">​</a></h3><p>Avem 2 modalitati de a implementa <code>Synchronous</code>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="derivesynchronous-syncronousdq">#<!-- -->[derive(Synchronous, SyncronousDQ)]<a class="hash-link" href="#derivesynchronous-syncronousdq" title="Direct link to heading">​</a></h4><p>Se poate face asta automat cu o functie <code>kernel</code> care se foloseste de un <code>Synchronous</code> si <code>SynchronousDQ</code> derivat:</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#[derive(PartialEq, Debug, Clone, Synchronous, SynchronousDQ)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">struct MyCircuit {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    state1: MyOtherCircuit // Circuitul acesta trebuie sa fie si el Synchronous</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="manual-synchronous-impl">Manual Synchronous impl<a class="hash-link" href="#manual-synchronous-impl" title="Direct link to heading">​</a></h4><p>Pentru a implementa manual ne trebuie urmatoarele functii:</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">trait Synchronous {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Tipul care contine toate informatiile necesare</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    type S;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn init(&amp;self) -&gt; Self::S;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Ce se foloseste la simulare.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn sim(&amp;self, clock_reset: ClockReset, input: Self::I, state: &amp;mut Self::S) -&gt; Self::O;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Template pentru generarea cod hdl (cum ar fi verilog)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn hdl(&amp;self, name: &amp;str) -&gt; Result&lt;HDLDescriptor, RHDLError&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Contine nume, tipurile(compatibile hdl) ale i/o si d/q, submodulele, cat si informatii de netlist si rtl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn descriptor(&amp;self, name: &amp;str) -&gt; Result&lt;CircuitDescriptor, RHDLError&gt;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Din pacate, trebuie sa depindem de un circuit <code>Synchronous</code> pentru a face implementare automata la circuitele ulterioare, acesta trebuind
implementat cu functiile de mai sus. Din fericire, exista deja un astfel de circuit de baza.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="rhdl_fpgadff">rhdl_fpga::DFF<a class="hash-link" href="#rhdl_fpgadff" title="Direct link to heading">​</a></h3><p>Este un bistabil D generic pe un tip <code>T</code> (il putem numi chiar un <code>register</code>), care poate primi orice tip de date atata timp cat implementeaza traitul <code>Digital</code> si <code>Default</code>.</p><div class="theme-admonition theme-admonition-warning alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_S0QG"><p>Este <em>obligatoriu</em> ca tipul nostru sa implementeze traitul <code>Default</code>. De ce? Deoarece cand se va da reset pe 1, se va folosi fix acea valoare default.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="exemplu-de-implementare-automatul-ab">Exemplu de implementare, automatul ab<a class="hash-link" href="#exemplu-de-implementare-automatul-ab" title="Direct link to heading">​</a></h2><p>Se cere sa se creeze un automat care sa recunoasca secventa(sa se termine in) &#x27;ab&#x27;. Automatul va avea <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="normal">Σ</mi><mo>=</mo><mo stretchy="false">{</mo><mi>a</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">\Sigma=\{a,b\}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord">Σ</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">{</span><span class="mord mathnormal">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord mathnormal">b</span><span class="mclose">}</span></span></span></span></span></p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#[derive(Debug,PartialEq,Eq,Digital,Default)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">enum In {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    #[default]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    a,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Definim si starile:</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#[derive(Debug,PartialEq,Digital,Default)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">enum StateAB {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    #[default]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Initial,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    a,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ab</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Acuma ne vom defini si circuitul cu starile lui interne:</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Ne folosim de derive sa ne genereze el automat ce ne trebuie</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// pentru un circuit secvential. D = Q = FsmAB&#x27;, unde FsmAB&#x27; este</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// FsmAB alterat in asa fel incat sa aibe aceleasi campuri ca</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// FsmAB doar ca tipurile de date vor fi I-urile de la</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// circuitele Synchronous care sunt copii directi ai lui FsmAB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">#[derive(Synchronous,SynchronousDQ,Clone,Debug)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">struct FsmAB {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    s: DFF&lt;StateAB&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">impl Default for FsmAB {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fn default() -&gt; Self {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Self {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            s: DFF::new(StateAB::Initial)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">impl SynchronousIO for FsmAB {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    type I = In;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    type O = bool;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    type Kernel = fsm_ker;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Acesta e un boilerplate necesar pentru fiecare circuit secvential. Acuma logica automatului:</p><div class="language-rust codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-rust codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">#[kernel]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fn fsm_ker(_cr: ClockReset, i: In, q: Q) -&gt; (bool, D) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    let (o,d) = match (q.state, i) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        (StateAB::Initial, In::a) =&gt; (false, StateAB::a),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        (StateAB::a, In::b) =&gt; (false, StateAB::ab),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        (StateAB::ab, In::a) =&gt; (true, StateAB::a),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        (StateAB::ab, In::b) =&gt; (true, StateAB::Initial),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        (StateAB::Initial, In::b) =&gt; (false, StateAB::Initial),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        (StateAB::a, In::a) =&gt; (false, StateAB::a)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    };</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    (o, D {s: d} )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Observati cum nu folosim <code>ClockReset</code>-ul, resetul este facut automat pentru noi deoarece am implementat <code>Default</code></p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/computer-architecture/Laboratoare AB/3 RHDL Secvential/Circuite Secventiale/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Circuite Secventiale</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/computer-architecture/Laboratoare AB/3 RHDL Secvential/Exercitii/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Exercitii</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#concept" class="table-of-contents__link toc-highlight">Concept</a></li><li><a href="#implementare" class="table-of-contents__link toc-highlight">Implementare</a><ul><li><a href="#synchronousdq" class="table-of-contents__link toc-highlight">SynchronousDQ</a></li><li><a href="#synchronousio" class="table-of-contents__link toc-highlight">SynchronousIO</a></li><li><a href="#synchronous" class="table-of-contents__link toc-highlight">Synchronous</a></li><li><a href="#rhdl_fpgadff" class="table-of-contents__link toc-highlight">rhdl_fpga::DFF</a></li></ul></li><li><a href="#exemplu-de-implementare-automatul-ab" class="table-of-contents__link toc-highlight">Exemplu de implementare, automatul ab</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://curs.upb.ro" target="_blank" rel="noopener noreferrer" class="footer__link-item">Main site<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://ocw.cs.pub.ro/courses/ac-is" target="_blank" rel="noopener noreferrer" class="footer__link-item">OCW<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Comnputer Architecture Team</div></div></div></footer></div>
<script src="/computer-architecture/assets/js/runtime~main.604d4f2b.js"></script>
<script src="/computer-architecture/assets/js/main.874f4657.js"></script>
</body>
</html>